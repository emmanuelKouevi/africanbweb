{"ast":null,"code":"import axios from 'axios';\nimport $ from 'jquery';\nimport { API_GET_RESERVATIONS_BY_SELLER, HEADERS } from '../globalConfig/globalConstConfig';\nexport default {\n  name: \"SelectionnerReservationBillet\",\n  data() {\n    return {\n      errorMsg: null,\n      successMsg: null,\n      warningMsg: null,\n      objectToSend: {\n        \"data\": {}\n      },\n      headers: [{\n        text: 'Réference N°',\n        value: 'gareDesignation'\n      }, {\n        text: 'Actions',\n        value: 'actions',\n        sortable: false\n      }],\n      overlay: false,\n      loading: false,\n      search: '',\n      reservationTicketList: []\n    };\n  },\n  methods: {\n    //OBTENIR LA LISTE DES RESERVATIONS EFFECTUÉ PAR LES UTILISATEUR À LA GARE\n    async getAllReservationTicketAvailable() {\n      this.loading = true;\n      console.log(\"Dans le service de recuperation des reservation\");\n      await axios.post(API_GET_RESERVATIONS_BY_SELLER, this.objectToSend, {\n        headers: HEADERS(this.$store.state.userAuthentified.token)\n      }).then(response => {\n        if (response.status == 200) {\n          console.log(response);\n          if (response.data.hasError != false) {\n            this.errorMsg = response.data.status.message;\n            $(\".alert-error\").fadeIn();\n            setTimeout(function () {\n              $(\".alert-error\").fadeOut();\n            }, 4000);\n            console.log(this.reservationTicketList);\n          } else {\n            this.reservationTicketList = response.data.items;\n          }\n        } else {\n          alert(\"\");\n        }\n      }).catch(e => {\n        this.errorMsg = e;\n      }).finally(() => {\n        this.loading = false;\n      });\n    }\n  },\n  mounted() {\n    this.getAllReservationTicketAvailable();\n  }\n};","map":{"version":3,"mappings":"AAyBA;AACA;AACA;AACA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MAEAC;QACA,SAEA;MACA;MAEAC,UACA;QAAAC;QAAAC;MAAA,GACA;QAAAD;QAAAC;QAAAC;MAAA,EACA;MAEAC;MACAC;MACAC;MAGAC;IACA;EACA;EAEAC;IAEA;IACA;MACA;MACAC;MACA;QAAAT;MAAA;QACA;UACAS;UACA;YACA;YACAC;YACAC;cACAD;YACA;YACAD;UACA;YACA;UACA;QACA;UACAG;QACA;MACA;QACA;MACA;QACA;MACA;IACA;EAEA;EAEAC;IACA;EACA;AACA","names":["name","data","errorMsg","successMsg","warningMsg","objectToSend","headers","text","value","sortable","overlay","loading","search","reservationTicketList","methods","console","$","setTimeout","alert","mounted"],"sourceRoot":"src/components/vendeur","sources":["SelectionnerReservationBillet.vue"],"sourcesContent":["<template>\n    <v-app>\n        <v-container fluid>\n            <v-card>\n                <v-card-title><small class=\"title_card\">TOUS LES BILLETS RÉSERVÉS</small>\n                <v-spacer></v-spacer>\n                <v-text-field v-model=\"search\" dense placeholder=\"Rechercher ...\"></v-text-field>\n                </v-card-title>\n                <v-divider></v-divider>\n                <v-card-text>\n                    <v-data-table :headers=\"headers\" search=\"search\" :loading=\"loading\" :items=\"reservationTicketList\">\n\n                    </v-data-table>\n                </v-card-text>\n            </v-card>\n        </v-container>\n\n        <v-alert class=\"myalert alert-success\" type=\"success\" width=\"350px\" dismissible>{{ successMsg }}</v-alert> \n        <v-alert class=\"myalert alert-error\" type=\"error\" width=\"350px\" dismissible>{{ errorMsg }}</v-alert>\n        <v-overlay :value=\"overlay\"><v-progress-circular indeterminate size=\"64\"></v-progress-circular></v-overlay>\n    </v-app>\n</template>\n\n<script>\n\nimport axios from 'axios';\nimport $ from 'jquery';\nimport { API_GET_RESERVATIONS_BY_SELLER , HEADERS } from '../globalConfig/globalConstConfig';\nexport default {\n    name:\"SelectionnerReservationBillet\",\n    data(){\n        return{\n            errorMsg: null,\n            successMsg: null,\n            warningMsg: null,\n\n            objectToSend:{\n                \"data\": {\n\n                }\n            },\n\n            headers:[\n                {text : 'Réference N°' ,value :'gareDesignation'},\n                {text : 'Actions' , value : 'actions' , sortable : false}\n            ],\n\n            overlay : false,\n            loading:false,\n            search: '',\n\n\n            reservationTicketList:[],\n        }\n    },\n\n    methods:{\n\n        //OBTENIR LA LISTE DES RESERVATIONS EFFECTUÉ PAR LES UTILISATEUR À LA GARE\n        async getAllReservationTicketAvailable(){\n            this.loading = true ;\n            console.log(\"Dans le service de recuperation des reservation\")\n            await axios.post(API_GET_RESERVATIONS_BY_SELLER, this.objectToSend, { headers : HEADERS(this.$store.state.userAuthentified.token) }).then((response) => {\n                if (response.status == 200) {\n                    console.log(response)\n                    if (response.data.hasError != false) {\n                        this.errorMsg = response.data.status.message\n                        $(\".alert-error\").fadeIn();\n                        setTimeout(function(){\n                            $(\".alert-error\").fadeOut(); \n                        }, 4000)\n                        console.log(this.reservationTicketList);\n                    }else{\n                        this.reservationTicketList = response.data.items;\n                    }\n                }else{\n                    alert(\"\");\n                }\n            }).catch((e) => {\n                this.errorMsg = e\n            }).finally(() => {\n                this.loading = false;   \n            })\n        }\n\n    },\n\n    mounted(){\n        this.getAllReservationTicketAvailable()\n    }\n}\n</script>\n\n<style scoped>\n    .title_card{\n        font-weight: bold;\n        font-size: 12px;\n    }\n\n    .myalert{\n        display: none;\n        z-index: 1900;\n    }\n\n    .alert-success{\n        position: fixed;\n        top: 25px;\n        right:2%;\n        width: 25%;\n    }\n\n    .alert-error{\n        position: fixed;\n        top: 25px;\n        right:2%;\n        width: 25%;\n    }\n</style>"]},"metadata":{},"sourceType":"module"}