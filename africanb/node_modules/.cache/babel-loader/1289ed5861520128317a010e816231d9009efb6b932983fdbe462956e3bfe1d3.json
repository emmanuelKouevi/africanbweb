{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport $ from 'jquery';\nimport { API_OBENIR_JOUR_SEMAINE_PAR_OFFRE_VOYAGE, API_RECUPERER_PRIX_PAR_OFFRE_VOYAGE, HEADERS } from '../globalConfig/globalConstConfig';\nimport { API_RESERVER_PROGRAMME_OFFRE, API_CREATE_HISTORIQUE_PAIEMENT } from '../globalConfig/globalConstConfig';\nexport default {\n  name: \"ReservationBillet\",\n  data() {\n    return {\n      successMsg: null,\n      errorMsg: null,\n      programmeReserved: {\n        data: {\n          programmeDesignation: null,\n          nombrePlace: null,\n          categorieVoyageur: null,\n          gareDesignation: null,\n          isOtherPerson: true,\n          clientDetails: {\n            nom: null,\n            prenoms: null,\n            email: null,\n            telephone: null\n          },\n          offreVoyageDesignation: null\n        }\n      },\n      historyPaiement: {\n        data: {\n          dateTimePayment: \"\",\n          modePaiementDesignation: \"\",\n          reservationBilletVoyageDesignation: \"\"\n        }\n      },\n      user: {\n        nom: null,\n        prenoms: null,\n        email: null,\n        telephone: null\n      },\n      userCategory: null,\n      dialog: false,\n      overlay: false,\n      offreVoyage: {\n        id: null,\n        designation: null,\n        description: null,\n        compagnieTransportRaisonSociale: \"KOUEVI CT\",\n        typeOffreVoyageDesignation: null,\n        villeDepartDesignation: null,\n        villeDestinationDesignation: null\n      },\n      jourSemainesParOffreVoyagesList: [],\n      prixEtModeParOffreVoyageList: [],\n      offreVoyageObject: {\n        data: {\n          designation: null\n        }\n      },\n      jourVoyageSelected: {\n        id: null,\n        designation: null,\n        jourSemaineDesignation: null,\n        nombrePlaceDisponible: null\n      },\n      jourDepart: null\n    };\n  },\n  methods: {\n    // FAIRE UNE RESERVATION POUR UN UTILISATEUR\n    async reserverOffre() {\n      this.dialog = false;\n      this.overlay = true;\n      this.programmeReserved.data.programmeDesignation = this.jourVoyageSelected.designation;\n      this.programmeReserved.data.gareDesignation = this.$store.state.userAuthentified.gareDesignation;\n      this.programmeReserved.data.offreVoyageDesignation = this.offreVoyage.designation;\n      this.programmeReserved.data.clientDetails = this.user;\n      await axios.post(API_RESERVER_PROGRAMME_OFFRE, this.programmeReserved, {\n        headers: HEADERS(this.$store.state.userAuthentified.token)\n      }).then(response => {\n        console.log(this.programmeReserved);\n        if (response.status == 200) {\n          if (response.data.status.code == 800) {\n            console.log(response);\n            this.creerHistoriquePaiement(response.data.items[0].designation);\n            this.successMsg = response.data.status.message;\n            $(\".alert-success\").fadeIn();\n            setTimeout(function () {\n              $(\".alert-success\").fadeOut();\n            }, 4000);\n            //this.objectContainList.datas = []\n          } else {\n            this.errorMsg = response.data.status.message;\n            $(\".alert-error\").fadeIn();\n            setTimeout(function () {\n              $(\".alert-error\").fadeOut();\n            }, 3000);\n            //this.objectContainList.datas = []\n          }\n        } else if (response.status == 204) {\n          this.warningMsg = \"Erreur , lors de la création\";\n          $(\".alert-warning\").fadeIn();\n          setTimeout(function () {\n            $(\".alert-warning\").fadeOut();\n          }, 3000);\n          //this.objectContainList.datas = []\n        } else {\n          this.errorMsg = \"Erreur , opération de création impossible\";\n          $(\".alert-error\").fadeIn();\n          setTimeout(function () {\n            $(\".alert-error\").fadeOut();\n          }, 3000);\n          //this.objectContainList.datas = []\n        }\n      }).catch(e => {\n        this.errorMsg = e;\n        $(\".alert-error\").fadeIn();\n        setTimeout(function () {\n          $(\".alert-error\").fadeOut();\n        }, 3000);\n        //this.objectContainList.datas = []\n      }).finally(() => {\n        this.overlay = false;\n      });\n    },\n    // CREER HISTORIQUE DE PAIEMENT\n    async creerHistoriquePaiement(designationReservation) {\n      let date = new Date();\n      let year = date.getFullYear();\n      let month = String(date.getMonth() + 1).padStart(2, '0');\n      let day = String(date.getDate()).padStart(2, '0');\n      let hours = String(date.getHours()).padStart(2, '0');\n      let minutes = String(date.getMinutes()).padStart(2, '0');\n      let seconds = String(date.getSeconds()).padStart(2, '0');\n      let formattedDate = `${year}-${month}-${day}T${hours}:${minutes}:${seconds}`;\n      this.historyPaiement.data.reservationBilletVoyageDesignation = designationReservation;\n      this.historyPaiement.data.dateTimePayment = formattedDate;\n      this.historyPaiement.data.modePaiementDesignation = \"Mode espece\";\n      console.log(this.historyPaiement);\n      await axios.post(API_CREATE_HISTORIQUE_PAIEMENT, this.historyPaiement, {\n        headers: HEADERS(this.$store.state.userAuthentified.token)\n      }).then(response => {\n        if (response.status == 200) {\n          if (response.data.status.code == 800) {\n            this.successMsg = response.data.status.message;\n            $(\".alert-success\").fadeIn();\n            setTimeout(function () {\n              $(\".alert-success\").fadeOut();\n            }, 4000);\n          } else {\n            this.errorMsg = response.data.status.message;\n            $(\".alert-error\").fadeIn();\n            setTimeout(function () {\n              $(\".alert-error\").fadeOut();\n            }, 3000);\n          }\n        } else {\n          this.errorMsg = \"Erreur , lors la création de l'historique\";\n          $(\".alert-error\").fadeIn();\n          setTimeout(function () {\n            $(\".alert-error\").fadeOut();\n          }, 3000);\n        }\n      }).catch(e => {\n        this.errorMsg = e;\n        $(\".alert-error\").fadeIn();\n        setTimeout(function () {\n          $(\".alert-error\").fadeOut();\n        }, 3000);\n      });\n    },\n    // PROCEDER A LA RESERVATION\n    chooseCategorieVoyageur() {\n      this.dialog = true;\n    },\n    async retrieveOffreSelected() {\n      if (localStorage.getItem(\"offreVoyageSelected\")) {\n        try {\n          const offreVoyageEditing = JSON.parse(localStorage.getItem(\"offreVoyageSelected\"));\n          this.offreVoyage.id = offreVoyageEditing.id;\n          this.offreVoyage.designation = offreVoyageEditing.designation;\n          this.offreVoyage.description = offreVoyageEditing.description;\n          this.offreVoyage.typeOffreVoyageDesignation = offreVoyageEditing.typeOffreVoyageDesignation;\n          this.offreVoyage.villeDepartDesignation = offreVoyageEditing.villeDepartDesignation;\n          this.offreVoyage.villeDestinationDesignation = offreVoyageEditing.villeDestinationDesignation;\n          this.offreVoyageObject.data.designation = this.offreVoyage.designation;\n          await axios.post(API_OBENIR_JOUR_SEMAINE_PAR_OFFRE_VOYAGE, this.offreVoyageObject, {\n            headers: HEADERS(this.$store.state.userAuthentified.token)\n          }).then(response => {\n            if (response.data.status.code == 800) {\n              this.jourSemainesParOffreVoyagesList = response.data.items;\n              console.log(this.jourSemainesParOffreVoyagesList);\n            } else {\n              this.jourSemainesParOffreVoyagesList = [];\n            }\n          }).catch(e => {\n            this.errorMsg = e;\n            $(\".alert-error\").fadeIn();\n            setTimeout(function () {\n              $(\".alert-error\").fadeOut();\n            }, 4000);\n          });\n          await axios.post(API_RECUPERER_PRIX_PAR_OFFRE_VOYAGE, this.offreVoyageObject, {\n            headers: HEADERS(this.$store.state.userAuthentified.token)\n          }).then(response => {\n            if (response.data.status.code == 800) {\n              this.prixEtModeParOffreVoyageList = response.data.items;\n            } else {\n              this.prixEtModeParOffreVoyageList = [];\n            }\n          }).catch(e => {\n            this.errorMsg = e;\n            $(\".alert-error\").fadeIn();\n            setTimeout(function () {\n              $(\".alert-error\").fadeOut();\n            }, 4000);\n          });\n          //localStorage.removeItem(\"offreVoyage\");\n        } catch (error) {\n          localStorage.removeItem(\"offreVoyage\");\n        }\n      }\n    }\n  },\n  computed: {\n    getProgrammeFromDaySelected() {\n      let programmeDTOList = [];\n      this.jourSemainesParOffreVoyagesList.forEach(element => {\n        if (this.jourDepart == element.jourSemaineDesignation) {\n          if (element.programmeDTOList != null || element.programmeDTOList != undefined) {\n            element.programmeDTOList.forEach(item => {\n              programmeDTOList.push(item);\n            });\n          }\n        }\n      });\n      return programmeDTOList;\n    },\n    getModeByOffre() {\n      let mode;\n      this.prixEtModeParOffreVoyageList.forEach(element => {\n        if (this.programmeReserved.data.categorieVoyageur == element.categorieVoyageurDesignation) {\n          mode = element.modeDesignation;\n        }\n      });\n      return mode;\n    },\n    getPrixByOffre() {\n      let price;\n      this.prixEtModeParOffreVoyageList.forEach(element => {\n        if (this.programmeReserved.data.categorieVoyageur == element.categorieVoyageurDesignation) {\n          price = element.prix;\n        }\n      });\n      return price;\n    }\n  },\n  mounted() {\n    this.retrieveOffreSelected();\n  }\n};","map":{"version":3,"names":["axios","$","API_OBENIR_JOUR_SEMAINE_PAR_OFFRE_VOYAGE","API_RECUPERER_PRIX_PAR_OFFRE_VOYAGE","HEADERS","API_RESERVER_PROGRAMME_OFFRE","API_CREATE_HISTORIQUE_PAIEMENT","name","data","successMsg","errorMsg","programmeReserved","programmeDesignation","nombrePlace","categorieVoyageur","gareDesignation","isOtherPerson","clientDetails","nom","prenoms","email","telephone","offreVoyageDesignation","historyPaiement","dateTimePayment","modePaiementDesignation","reservationBilletVoyageDesignation","user","userCategory","dialog","overlay","offreVoyage","id","designation","description","compagnieTransportRaisonSociale","typeOffreVoyageDesignation","villeDepartDesignation","villeDestinationDesignation","jourSemainesParOffreVoyagesList","prixEtModeParOffreVoyageList","offreVoyageObject","jourVoyageSelected","jourSemaineDesignation","nombrePlaceDisponible","jourDepart","methods","reserverOffre","$store","state","userAuthentified","post","headers","token","then","response","console","log","status","code","creerHistoriquePaiement","items","message","fadeIn","setTimeout","fadeOut","warningMsg","catch","e","finally","designationReservation","date","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","formattedDate","chooseCategorieVoyageur","retrieveOffreSelected","localStorage","getItem","offreVoyageEditing","JSON","parse","error","removeItem","computed","getProgrammeFromDaySelected","programmeDTOList","forEach","element","undefined","item","push","getModeByOffre","mode","categorieVoyageurDesignation","modeDesignation","getPrixByOffre","price","prix","mounted"],"sources":["src/components/vendeur/ReservationBillet.vue"],"sourcesContent":["<template>\n\n    <v-app>\n        \n        <v-container fluid>\n\n            <v-sheet color=\"#b2bec3\">\n\n                <v-container>\n\n                    <v-card elevation=\"5\">\n\n                        <v-card-title><span class=\"title-card\">DÉTAIL SUR L'OFFRE:</span></v-card-title>\n\n                        <v-card-text>\n                            <div class=\"row\">\n                                <div class=\"col-sm-6\">\n                                    <v-container>\n                                        <v-card>\n                                            <v-card-title><span class=\"designation-offre\">{{ offreVoyage.designation }}</span></v-card-title>\n                                            <v-card-text>\n                                                <v-container>\n\n                                                    <v-row>\n                                                        <span>Type de l'offre :</span>&nbsp;&nbsp;\n                                                        <span>{{ offreVoyage.typeOffreVoyageDesignation }}</span>\n                                                    </v-row><br><br>\n\n                                                    <v-row>\n                                                        <v-icon dense color=\"teal\">mdi-circle</v-icon>&nbsp;&nbsp; Gare départ : <span class=\"gareDepart\">{{ offreVoyage.villeDepartDesignation }}</span>  \n                                                    </v-row><br><br>\n                                                    \n                                                    <v-row>\n                                                        <v-icon dense color=\"#2C3A47\">mdi-circle</v-icon>&nbsp;&nbsp; Gare destination : <span class=\"gareDestination\">{{ offreVoyage.villeDestinationDesignation }} </span>  \n                                                    </v-row>        \n                                                </v-container>\n                                            </v-card-text>\n                                        </v-card>\n                                    </v-container>\n                                </div>\n\n                                <div class=\"col-sm-6\">\n                                    <v-container>\n                                        <v-card>\n                                            <v-card-text>\n                                                <v-container>\n                                                    <div class=\"form-group\">\n                                                        <label>Choisissez le jour du voyage:</label>\n                                                        <v-select :items=\"jourSemainesParOffreVoyagesList\" item-text=\"jourSemaineDesignation\" item-value=\"jourSemaineDesignation\" v-model=\"jourDepart\" dense outlined></v-select>\n\n                                                    </div>\n\n                                                    <div class=\"form-group\" v-if=\"jourVoyageSelected\">\n                                                        <label>Choisissez l'heure de départ:</label>\n                                                        <v-select v-model=\"jourVoyageSelected.designation\" :items=\"getProgrammeFromDaySelected\" item-text=\"heureDepart\" item-value=\"designation\" dense outlined></v-select>\n                                                    </div>\n                                                </v-container>\n                                            </v-card-text>\n                                        </v-card>\n                                    </v-container>\n                                </div>\n                            </div>\n                            <v-divider></v-divider>\n                            <div class=\"row\">\n                                <div class=\"col-sm-6\" v-for=\"(mode,index) in prixEtModeParOffreVoyageList\" :key=\"index\">\n                                    <v-card>\n                                        <v-card-title>Mode n°{{ index + 1}}</v-card-title>\n                                        <v-card-text>\n                                            <v-container>\n                                                <v-row>\n                                                    <v-col><small class=\"muted-text\">Mode de l'offre :</small></v-col>\n                                                    <v-col><span class=\"label-text font-weight-bold\">{{ mode.modeDesignation }}</span></v-col>\n                                                </v-row>\n\n                                                <v-row>\n                                                    <v-col><small class=\"muted-text\">Catégorie :</small></v-col>\n                                                    <v-col><span class=\"label-text font-weight-bold\">{{ mode.categorieVoyageurDesignation }}</span></v-col>\n                                                </v-row>\n                                                <v-row>\n                                                    <v-col><small class=\"muted-text\">Prix de l'offre :</small></v-col>\n                                                    <v-col><span class=\"label-text font-weight-bold\">{{ mode.prix }} FCFA</span></v-col>\n                                                </v-row>\n                                            </v-container>\n                                        </v-card-text>\n                                    </v-card>\n                                </div>\n                            </div>\n                        </v-card-text>\n                    </v-card><br>\n\n                    <v-card elevation=\"5\">\n                        <v-card-title><span class=\"title-card\">INFORMATION DU CLIENT:</span></v-card-title>\n                        <v-card-text>\n                            <form>\n                                <div class=\"form-row\">\n                                    <div class=\"form-group col-md-6\">\n                                        <label for=\"inputEmail4\">Nom:</label>\n                                        <input type=\"text\" v-model=\"user.nom\" class=\"form-control\" id=\"inputEmail4\">\n                                    </div>\n                                    <div class=\"form-group col-md-6\">\n                                        <label for=\"inputPassword4\">Prenoms:</label>\n                                        <input type=\"text\" class=\"form-control\" id=\"inputPassword4\" v-model=\"user.prenoms\">\n                                    </div>\n                                </div>\n                                <div class=\"form-row\">\n                                    <div class=\"form-group col-md-6\">\n                                        <label for=\"inputEmail4\">Numero de téléphone:</label>\n                                        <input type=\"text\" class=\"form-control\" v-model=\"user.telephone\" id=\"inputEmail4\">\n                                    </div>\n                                    <div class=\"form-group col-md-6\">\n                                        <label for=\"inputEmail4\">Nombre de place:</label>\n                                        <input type=\"number\" min=\"0\" class=\"form-control\" v-model=\"programmeReserved.data.nombrePlace\" id=\"inputEmail4\">\n                                    </div>\n                                </div>\n                                <div class=\"form-row\">\n                                    <div class=\"form-group col-md-8\">\n                                        <label for=\"inputEmail4\">email:</label>\n                                        <input suffix=\"225\" type=\"text\" class=\"form-control\" v-model=\"user.email\" id=\"inputEmail4\">\n                                    </div>\n                                </div>\n                            </form>\n                        </v-card-text>\n                    </v-card><br>\n\n                </v-container>  \n\n                <v-card-actions>\n                    <v-btn x-small color=\"secondary\">RETOUR</v-btn>\n                    <v-btn x-small color=\"teal\" @click=\"chooseCategorieVoyageur\"><span class=\"btn-title\">RESERVER POUR CE TRAJET</span></v-btn>\n                </v-card-actions>  \n\n            </v-sheet>\n\n        </v-container>\n\n        <v-dialog v-model=\"dialog\">\n\n            <v-sheet>\n\n                <v-toolbar><v-toolbar-title><span class=\"font-weight-bold\">CONFIRMATION DE RESERVATION</span></v-toolbar-title></v-toolbar><br>\n\n                <v-card>\n                    <v-card-text>\n                        <v-container>\n\n                            <v-card>\n                                <v-card-title><span class=\"designation-offre\">{{ offreVoyage.designation }}</span></v-card-title>\n                                <v-card-text>\n                                    <v-container>\n                                        <v-row>\n                                            <span>Type de l'offre :</span>&nbsp;&nbsp;\n                                            <span>{{ offreVoyage.typeOffreVoyageDesignation }}</span>\n                                        </v-row><br><br>\n                                        <v-row>\n                                            <v-icon dense color=\"teal\">mdi-circle</v-icon>&nbsp;&nbsp; Gare départ : <span class=\"gareDepart\">{{ offreVoyage.villeDepartDesignation }}</span>  \n                                        </v-row><br><br>\n                                        <v-row>\n                                            <v-icon dense color=\"#2C3A47\">mdi-circle</v-icon>&nbsp;&nbsp; Gare destination : <span class=\"gareDestination\">{{ offreVoyage.villeDestinationDesignation }} </span>  \n                                        </v-row>        \n                                    </v-container>\n                                    <v-divider></v-divider>\n                                </v-card-text>\n                            </v-card>\n                            \n                            <v-divider></v-divider>\n\n                            <v-card>\n                                <v-card-title><span class=\"designation-offre\">Information du client</span></v-card-title>\n                                <v-card-text>\n                                    <v-container>\n                                        <v-row>\n                                            <span>Nom:</span>&nbsp;&nbsp;\n                                            <span>{{ user.nom }}</span>\n                                        </v-row><br><br>\n                                        <v-row>\n                                            <span>Prenoms:</span>&nbsp;&nbsp;\n                                            <span>{{ user.prenoms }}</span>\n                                        </v-row><br><br>\n                                        <v-row>\n                                            <span>Contact:</span>&nbsp;&nbsp;\n                                            <span>{{ user.telephone }}</span>\n                                        </v-row>      \n                                    </v-container>\n                                    <v-divider></v-divider>\n                                </v-card-text>\n                            </v-card>\n\n                            <v-divider></v-divider>\n\n                            <v-card>\n                                <v-card-title><span class=\"designation-offre\">Catégorie du client</span></v-card-title>\n                                <v-card-text>\n                                    <v-container>\n                                        <div class=\"form-group\">\n                                            <label>Selectionnez la categorie:</label>\n                                            <v-select class=\"col-sm-6\" :items=\"prixEtModeParOffreVoyageList\" item-text=\"categorieVoyageurDesignation\" item-value=\"categorieVoyageurDesignation\" v-model=\"programmeReserved.data.categorieVoyageur\" dense outlined></v-select>\n                                        </div>\n                                        <div>\n                                            <span class=\"font-weight-bold\">Mode :</span> <span class=\"data-label\">{{ getModeByOffre }}</span><br><br>\n                                        </div>\n                                        <div>\n                                            <span class=\"font-weight-bold\">Montant à payer :</span> <span class=\"data-label font-weight-bold\">{{ getPrixByOffre }}</span> FCFA\n                                        </div>\n                                              \n                                    </v-container>\n                                    <v-divider></v-divider>\n                                </v-card-text>\n                            </v-card>\n\n                        </v-container>\n\n                    </v-card-text>  \n\n                    <v-card-actions>\n\n                        <v-btn x-small color=\"secondary\">Annuler</v-btn>\n\n                        <v-btn x-small color=\"success\" @click=\"reserverOffre()\">confirmer</v-btn>\n\n                    </v-card-actions>  \n\n                </v-card>\n\n            </v-sheet>\n                                \n            <v-divider vertical></v-divider>\n\n        </v-dialog>\n\n        <v-alert class=\"myalert alert-success\" type=\"success\" width=\"350px\" dismissible>{{ successMsg }}</v-alert> \n\n        <v-alert class=\"myalert alert-error\" type=\"error\" width=\"350px\" dismissible>{{ errorMsg }}</v-alert>\n\n        <v-overlay :value=\"overlay\"><v-progress-circular indeterminate size=\"64\"></v-progress-circular></v-overlay>\n\n    </v-app>\n\n</template>\n\n<script>\nimport axios from \"axios\"\nimport $ from 'jquery'\nimport { API_OBENIR_JOUR_SEMAINE_PAR_OFFRE_VOYAGE , API_RECUPERER_PRIX_PAR_OFFRE_VOYAGE , HEADERS } from '../globalConfig/globalConstConfig'\nimport { API_RESERVER_PROGRAMME_OFFRE , API_CREATE_HISTORIQUE_PAIEMENT} from '../globalConfig/globalConstConfig'\nexport default {\n    name:\"ReservationBillet\",\n    data(){\n        return{\n            successMsg : null,\n            errorMsg : null,\n\n\n            programmeReserved:{\n                data:{\n                    programmeDesignation : null,\n                    nombrePlace : null,\n                    categorieVoyageur: null,\n                    gareDesignation : null,\n                    isOtherPerson:true,\n                    clientDetails:{\n                        nom: null,\n                        prenoms: null,\n                        email: null,\n                        telephone:null\n                    },\n                    offreVoyageDesignation:null,\n                }\n            },\n\n            historyPaiement:{\n                data:{\n                    dateTimePayment:\"\",\n                    modePaiementDesignation:\"\",\n                    reservationBilletVoyageDesignation: \"\",\n                }\n            },\n\n            user:{\n                nom : null,\n                prenoms : null,\n                email:null,\n                telephone : null\n            },\n\n            userCategory : null,\n\n            dialog:false,\n            overlay: false,\n\n            offreVoyage:{\n                id:null,\n                designation : null ,\n                description: null,\n                compagnieTransportRaisonSociale : \"KOUEVI CT\",\n                typeOffreVoyageDesignation : null,\n                villeDepartDesignation : null,\n                villeDestinationDesignation : null\n            },\n    \n            \n\n            jourSemainesParOffreVoyagesList : [],\n\n            prixEtModeParOffreVoyageList:[],\n\n            offreVoyageObject:{\n                data:{\n                    designation:null\n                }\n            },\n\n            jourVoyageSelected: {\n                id:null,\n                designation:null,\n                jourSemaineDesignation:null,\n                nombrePlaceDisponible:null,\n            },\n\n            jourDepart:null,\n\n        }\n    },\n\n    methods:{\n\n        // FAIRE UNE RESERVATION POUR UN UTILISATEUR\n        async reserverOffre(){\n            this.dialog = false;\n            this.overlay = true;\n            this.programmeReserved.data.programmeDesignation = this.jourVoyageSelected.designation\n            this.programmeReserved.data.gareDesignation = this.$store.state.userAuthentified.gareDesignation;\n            this.programmeReserved.data.offreVoyageDesignation = this.offreVoyage.designation\n            this.programmeReserved.data.clientDetails = this.user;\n            await axios.post(API_RESERVER_PROGRAMME_OFFRE, this.programmeReserved, { headers : HEADERS(this.$store.state.userAuthentified.token) }).then((response) => {\n                console.log(this.programmeReserved)\n                if (response.status == 200) {\n                    if (response.data.status.code == 800) {\n                        console.log(response)\n                        this.creerHistoriquePaiement(response.data.items[0].designation);\n                        this.successMsg = response.data.status.message\n                        $(\".alert-success\").fadeIn();\n                        setTimeout(function(){\n                            $(\".alert-success\").fadeOut(); \n                        }, 4000)\n                        //this.objectContainList.datas = []\n                    }else{\n                        this.errorMsg = response.data.status.message\n                        $(\".alert-error\").fadeIn();\n                        setTimeout(function(){\n                            $(\".alert-error\").fadeOut(); \n                        }, 3000)\n                        //this.objectContainList.datas = []\n                    }  \n                    \n                }\n                else if (response.status == 204) {\n                    this.warningMsg = \"Erreur , lors de la création\";\n                    $(\".alert-warning\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-warning\").fadeOut(); \n                    }, 3000)\n                    //this.objectContainList.datas = []\n                }\n                else{\n                    this.errorMsg = \"Erreur , opération de création impossible\";\n                    $(\".alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 3000)\n                    //this.objectContainList.datas = []\n                }\n            }).catch((e) => {\n                this.errorMsg = e;\n                $(\".alert-error\").fadeIn();\n                setTimeout(function(){\n                    $(\".alert-error\").fadeOut(); \n                }, 3000)\n                //this.objectContainList.datas = []\n            }).finally(() => {\n                this.overlay = false;\n            })\n        },\n\n        // CREER HISTORIQUE DE PAIEMENT\n        async creerHistoriquePaiement(designationReservation){\n            let date = new Date();\n            let year = date.getFullYear();\n            let month = String(date.getMonth() + 1).padStart(2, '0');\n            let day = String(date.getDate()).padStart(2, '0'); \n            let hours = String(date.getHours()).padStart(2, '0'); \n            let minutes = String(date.getMinutes()).padStart(2, '0'); \n            let seconds = String(date.getSeconds()).padStart(2, '0'); \n            let formattedDate = `${year}-${month}-${day}T${hours}:${minutes}:${seconds}`;\n            this.historyPaiement.data.reservationBilletVoyageDesignation = designationReservation\n            this.historyPaiement.data.dateTimePayment = formattedDate;\n            this.historyPaiement.data.modePaiementDesignation = \"Mode espece\"\n            console.log(this.historyPaiement);\n            await axios.post(API_CREATE_HISTORIQUE_PAIEMENT, this.historyPaiement, { headers : HEADERS(this.$store.state.userAuthentified.token) }).then((response) => {\n\n                if (response.status == 200) {\n                    if (response.data.status.code == 800) {\n                        this.successMsg = response.data.status.message\n                        $(\".alert-success\").fadeIn();\n                        setTimeout(function(){\n                            $(\".alert-success\").fadeOut(); \n                        }, 4000)\n                    }else{\n                        this.errorMsg = response.data.status.message\n                        $(\".alert-error\").fadeIn();\n                        setTimeout(function(){\n                            $(\".alert-error\").fadeOut(); \n                        }, 3000)\n                    }  \n                    \n                }else{\n                    this.errorMsg = \"Erreur , lors la création de l'historique\";\n                    $(\".alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 3000)\n                }\n            }).catch((e) => {\n                this.errorMsg = e;\n                $(\".alert-error\").fadeIn();\n                setTimeout(function(){\n                    $(\".alert-error\").fadeOut(); \n                }, 3000)\n            })\n        },\n        \n        // PROCEDER A LA RESERVATION\n        chooseCategorieVoyageur(){\n            this.dialog = true\n        },\n\n        async retrieveOffreSelected(){\n            if (localStorage.getItem(\"offreVoyageSelected\")) {\n                try {\n                    const offreVoyageEditing = JSON.parse(localStorage.getItem(\"offreVoyageSelected\"));\n                    this.offreVoyage.id = offreVoyageEditing.id;\n                    this.offreVoyage.designation = offreVoyageEditing.designation;\n                    this.offreVoyage.description = offreVoyageEditing.description;\n                    this.offreVoyage.typeOffreVoyageDesignation = offreVoyageEditing.typeOffreVoyageDesignation;\n                    this.offreVoyage.villeDepartDesignation = offreVoyageEditing.villeDepartDesignation;\n                    this.offreVoyage.villeDestinationDesignation = offreVoyageEditing.villeDestinationDesignation;\n                    this.offreVoyageObject.data.designation = this.offreVoyage.designation;\n                    await axios.post(API_OBENIR_JOUR_SEMAINE_PAR_OFFRE_VOYAGE , this.offreVoyageObject , { headers : HEADERS(this.$store.state.userAuthentified.token) }).then((response) => {\n                        if (response.data.status.code == 800) {\n                            this.jourSemainesParOffreVoyagesList = response.data.items\n                            console.log(this.jourSemainesParOffreVoyagesList)\n                        }else{\n                            this.jourSemainesParOffreVoyagesList = [];\n                        }\n                    }).catch((e) => {\n                        this.errorMsg = e ;\n                        $(\".alert-error\").fadeIn();\n                        setTimeout(function(){\n                            $(\".alert-error\").fadeOut(); \n                        }, 4000)\n                    })\n\n                    await axios.post(API_RECUPERER_PRIX_PAR_OFFRE_VOYAGE, this.offreVoyageObject , { headers : HEADERS(this.$store.state.userAuthentified.token) }).then((response) => {\n                        if (response.data.status.code == 800) {\n                            this.prixEtModeParOffreVoyageList = response.data.items\n                        }else{\n                            this.prixEtModeParOffreVoyageList = [];\n                        }\n                    }).catch((e) => {\n                        this.errorMsg = e ;\n                        $(\".alert-error\").fadeIn();\n                        setTimeout(function(){\n                            $(\".alert-error\").fadeOut(); \n                        }, 4000)\n                    })\n                    //localStorage.removeItem(\"offreVoyage\");\n                } catch (error) {\n                    localStorage.removeItem(\"offreVoyage\");\n                }\n            }\n        },\n    },\n\n    computed:{\n        \n        getProgrammeFromDaySelected(){\n            let programmeDTOList = [];\n            this.jourSemainesParOffreVoyagesList.forEach(element => {\n                if (this.jourDepart == element.jourSemaineDesignation) {\n                    if(element.programmeDTOList != null || element.programmeDTOList != undefined){\n                        element.programmeDTOList.forEach(item => {\n                            programmeDTOList.push(item)\n                        });\n                    }\n                    \n                }\n            });\n            return programmeDTOList\n        },\n\n        getModeByOffre(){\n            let mode ;\n            this.prixEtModeParOffreVoyageList.forEach(element => {\n                if (this.programmeReserved.data.categorieVoyageur == element.categorieVoyageurDesignation) {\n                    mode = element.modeDesignation\n                }\n            });\n            return mode;\n        },\n\n        getPrixByOffre(){\n            let price ;\n            this.prixEtModeParOffreVoyageList.forEach(element => {\n                if (this.programmeReserved.data.categorieVoyageur == element.categorieVoyageurDesignation) {\n                    price = element.prix\n                }\n            });\n            return price;\n        },\n\n\n    },\n\n    mounted(){\n        this.retrieveOffreSelected();\n    }\n}\n</script>\n\n<style scoped>\n    .title-card{\n        font-weight: bold;\n        font-size: 12px;\n    }\n\n    .designation-offre{\n        font-weight: 700;\n        color: #303952;\n    }\n\n    .btn-title{\n        color: white;\n    }\n\n    .gareDepart{\n        font-size: 15px;\n        color: teal;\n        font-weight: bold;\n    }\n\n    .gareDestination{\n        font-size: 15px;\n        color: #2C3A47;\n        font-weight: bold;\n    }\n\n    .data-label{\n        color: #2c3e50;\n    }\n\n    .myalert{\n        display: none;\n        z-index: 1900;\n    }\n\n    .alert-success{\n        position: fixed;\n        top: 25px;\n        right:2%;\n        width: 25%;\n    }\n\n    .alert-error{\n        position: fixed;\n        top: 25px;\n        right:2%;\n        width: 25%;\n    }\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}